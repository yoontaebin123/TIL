## **멀티 프로세스(Multi-Process)**
![image](https://velog.velcdn.com/images%2Fxxhaileypark%2Fpost%2Fdfb68a5a-60e2-4e41-8ded-415b0df0ae0d%2FScreen%20Shot%202022-01-14%20at%203.42.08%20PM.png)

여러 개의 프로세스가 서로 협력적으로 일을 처리하는 것이다.   
여러 개의 프로세스가 작업을 병렬처리 하는 것이다.   
각 프로세스 간 메모리 구분이 필요하거나 독립된 주소 공간을 가져야 할 때 사용한다.

### **장점**
+ 독립된 구조이기 때문에 안정성이 높다.
+ 여러 프로세스가 같이 작업하고 있기 때문에 하나의 프로세스가 죽는다 해도 문제가 확산되지 않는다.(대신 느려질 수는 있다. 다른 프로세스의 일을 자기가 더 해야하기 때문이다.)
+ 여러 개의 프로세스가 처리되어야 할 때 동일한 데이터를 사용하고, 이러한 데이터를 하나의 디스크에 두고 모든 프로세서(CPU)가 이를 공유하면 비용적으로 저렴해진다.

### **단점**
+ 멀티 스레드보다 많은 메모리 공간과 CPU시간을 차지한다.
+ 독립된 메모리 영역이기 때문에 작업량이 많을 수록(Context Switching이 자주 일어나서 주소 공간의 공유가 잦을 경우) 오버헤드가 발생하여 성능 저하가 발생할 수 있다.   
    -> Context switching 과정에서 캐시 메모리 초기화 등 무거운 작업이 진행되고 시간이 소모되는 등 오버헤드가 발생한다.
> #### **Context Switching이란?**
> + CPU는 한 번에 하나의 프로세스만 실행 가능하다.
> + CPU에서 여러 프로세스를 돌아가면서 작업을 처리하는데 이 과정을 Context-Switching이라고 한다.
> + 즉, 동작중인 프로세스가 대기하면서 해당 프로세스 상태(Context)를 보관하고, 대기하고 있던 다음 순서의 프로세스가 동작하면서 이전에 보관했던 프로세스의 상태를 복구하는 작업이다.

## **멀티 스레드(Multi-Thread)**
![image](https://velog.velcdn.com/images%2Fxxhaileypark%2Fpost%2F01dd869c-5915-4cf9-aac4-6fb51c2dbd94%2FScreen%20Shot%202022-01-14%20at%2010.54.08%20AM.png)

하나의 작업을 위해 프로세스에서 여러 스레드를 생성해 여러 CPU코어를 사용하기 위한 작업이다.

### **장점**
+ 시스템 자원 소모가 감소하여 자원의 효율성이 증가한다.
+ 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어 자원을 효율적으로 관리할 수 있다.
+ 시스템 처리율이 향상된다.(처리 비용 감소)
+ 스레드 간 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어든다.
+ 스레드 사이 작업량이 적어 Context Switching이 빠르다.(캐시 메모리를 비울 필요가 없다.)
+ 간단한 통신 방법으로 프로그램 응답시간이 단축된다.
+ 스레드는 프로세스 내 스택 영역을 제외한 메모리 영역을 공유하기에 통신 비용이 적다.
+ 힙 영역을 공유하므로 데이터를 주고 받을 수 있다.

### **단점**
+ 자원을 공유하기에 동기화 문제가 발생할 수 있다.(병목현상, 데드락 등)
+ 하나의 스레드에 문제가 발생하면 전체 프로세스에 영향을 끼친다.
+ 주의깊은 설계가 필요하고 디버깅이 어렵다.(불필요 부분까지 동기화하면, 대기시간으로 인해 성능 저하 발생)
+ 단일 프로세스 시스템의 경우 효과를 기대하기 어렵다.

## **멀티 프로세스 vs 멀티 스레드**
+ 멀티 스레드는 멀티 프로세스보다 작은 메모리 공간을 차지하고 Context Switching이 빠른 장점이 있지만, 동기화 문제와 하나의 스레드 장애로 전체 스레드가 종료될 위험을 갖고 있다.
+ 멀티 프로세스는 하나의 프로세스가 죽더라도 다른 프로세스에 영향을 주지 않아 안정성이 높지만, 멀티 스레드보다 많은 메모리 공간과 CPU시간을 차지하는 단점이 있다.
+ 두 방법은 동시에 여러 작업을 수행하는 점에서 동일하지만, 각각의 장단이 있으므로 적용하는 시스템에 따라 적합한 동작 방식을 선택하고 적용해야 한다.